:root{--bg:#0f1117;--bg-alt:#1a1c24;--panel:#1a1c24;--muted:#7a8296;--text:#e8ecf1;--accent:#67e8f9;--accent-2:#a78bfa;--danger:#ef4444;--good:#10b981;--warn:#f59e0b;--ring:#6366f1;--mono:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;--sans:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;--radius:1rem;--radius-sm:0.75rem;--shadow:0 4px 6px rgba(0,0,0,0.25),0 1px 3px rgba(0,0,0,0.12);--shadow-hover:0 8px 16px rgba(0,0,0,0.3),0 4px 6px rgba(0,0,0,0.15);--trans:0.3s ease}:root[data-theme=light]{--bg:#f5f7fa;--bg-alt:#e2e8f0;--panel:#ffffff;--muted:#64748b;--text:#1e293b;--accent:#3b82f6;--accent-2:#8b5cf6;--ring:#4f46e5}*{box-sizing:border-box}body,html{height:100%}body{margin:0;background:linear-gradient(135deg,var(--bg) 0%,var(--bg-alt) 100%);color:var(--text);font-family:var(--sans);transition:background var(--trans),color var(--trans)}button,input,select,textarea{font:inherit;border-radius:var(--radius-sm);transition:background var(--trans),border-color var(--trans),color var(--trans),box-shadow var(--trans),transform var(--trans)}button:hover,input:hover,select:hover,textarea:hover{box-shadow:var(--shadow-hover)}button:disabled{opacity:.5;cursor:not-allowed;box-shadow:var(--shadow)}:focus-visible{outline:2px solid var(--ring);outline-offset:2px}.sr-only{position:absolute;left:-9999px}.app-header,.branding{display:flex;align-items:center}.app-header{justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid rgba(0,0,0,.2);background:var(--panel);box-shadow:var(--shadow);position:sticky;top:0;z-index:2}.branding{gap:.5rem}.logo{width:24px;height:24px}.header-actions{display:flex;gap:.5rem;align-items:center}.btn{background:var(--panel);border:1px solid rgba(255,255,255,.08);color:var(--text);padding:.5rem .875rem;border-radius:var(--radius-sm);cursor:pointer;box-shadow:var(--shadow)}.btn:hover{background:var(--bg-alt);transform:translateY(-2px)}.btn-primary,.preset-tabs button[aria-selected=true],.subtabs button[aria-selected=true]{background:var(--accent-2);border-color:var(--accent-2);color:#fff}.btn-danger:hover,.btn-primary:hover{filter:brightness(1.1)}.btn-danger{background:var(--danger);border-color:var(--danger);color:#fff}.badge,.conn-dot{display:inline-block}.badge{padding:.25rem .5rem;border-radius:999px;background:var(--bg-alt);border:1px solid rgba(255,255,255,.1);color:var(--text);font-size:.75rem;line-height:1;vertical-align:middle}.badge.small{font-size:.7rem;padding:.125rem .375rem}.badge.preset{background:var(--bg)}.badge.lens{background:0 0;border:1px dashed var(--muted);color:var(--muted)}.badge.model{opacity:.8}.conn-dot{width:10px;height:10px;border-radius:50%;background:#555;border:1px solid #333}.conn-ok{background:var(--good)}.conn-warn{background:var(--warn)}.conn-bad{background:var(--danger)}.main-grid{display:grid;grid-template-columns:420px 1fr;gap:1rem;padding:1rem;align-items:start}.compose,.library,.output,.settings{transition:background var(--trans),box-shadow var(--trans)}.compose,.library,.modal,.output,.settings{background:var(--panel);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);box-shadow:var(--shadow)}.compose{padding:1rem;position:sticky;top:70px}#out-plain,.seed{width:100%;color:var(--text)}.preset-tabs button,.seed,.subtabs button{border:1px solid rgba(255,255,255,.12);background:var(--bg);box-shadow:var(--shadow)}.seed{resize:vertical;border-radius:var(--radius-sm);padding:.5rem;font-size:.9rem}.seed-label{display:block;margin:.5rem 0;color:var(--muted)}.preset-tabs,.subtabs{display:flex;gap:.375rem;flex-wrap:wrap;margin-bottom:.5rem}.preset-tabs button,.subtabs button{color:var(--text);border-radius:999px;padding:.375rem .625rem;font-size:.8rem;cursor:pointer}.lens-toggles{display:flex;gap:.875rem;margin:.375rem 0 .75rem}.lens-toggles label{font-size:.8rem;color:var(--muted)}.compose-actions{display:flex;gap:.5rem;margin:.5rem 0}.status-line{display:flex;gap:.75rem;color:var(--muted);font-size:.75rem;margin-top:.5rem}.output{padding:1rem}.library-filters input,.library-filters select,.output-scroller{background:var(--bg);border-radius:var(--radius-sm);box-shadow:var(--shadow)}.output-scroller{height:420px;overflow:auto;border:1px solid rgba(255,255,255,.08);padding:.625rem}.out-view{margin:0;white-space:pre-wrap;font-family:var(--mono);line-height:1.45}#out-plain{height:100%;background:0 0;border:0}.quick-actions{display:flex;gap:.5rem;margin-top:.5rem;flex-wrap:wrap}.library{padding:1rem;grid-column:1/-1}.library-header{justify-content:space-between;margin-bottom:.5rem}.inline,.library-filters,.library-header{display:flex;align-items:center}.library-filters{gap:.5rem;margin-bottom:.625rem}.library-filters input,.library-filters select{border:1px solid rgba(255,255,255,.12);color:var(--text);padding:.5rem;font-size:.9rem}.inline{gap:.625rem;flex-wrap:wrap}.lib-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:.75rem}.lib-card,.settings input[type=password],.settings input[type=text]{padding:.625rem;border-radius:var(--radius-sm);border:1px solid rgba(255,255,255,.08);background:var(--bg);box-shadow:var(--shadow)}.lib-card-head{display:flex;justify-content:space-between;align-items:start;margin-bottom:.375rem}.lib-title{font-weight:600;margin-bottom:.25rem;max-width:36ch;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.lib-meta,.sliders label{display:flex;align-items:center}.lib-meta{gap:.375rem;color:var(--muted);font-size:.75rem}.star{border:0;background:0 0;color:#f7d26a;font-size:1.125rem;cursor:pointer}.lib-output{max-height:180px;overflow:auto;background:var(--bg-alt);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius-sm);padding:.5rem;font-family:var(--mono)}.lib-tags{margin-top:.375rem}.tag-editor{width:100%;background:var(--bg-alt);border:1px dashed var(--muted);color:var(--text);border-radius:var(--radius-sm);padding:.375rem;font-size:.8rem}.lib-actions{display:flex;gap:.375rem;flex-wrap:wrap;margin-top:.5rem}.lib-actions .btn-danger{background:var(--danger);border-color:var(--danger);color:#fff}.settings{position:fixed;top:0;right:0;width:380px;height:100%;display:flex;flex-direction:column}.settings-header{padding:.75rem 1rem;border-bottom:1px solid rgba(0,0,0,.2)}.settings-body{padding:.75rem 1rem;display:flex;flex-direction:column;gap:.625rem}.settings input[type=password],.settings input[type=text]{width:100%;border:1px solid rgba(255,255,255,.12);color:var(--text);padding:.5rem}.sliders label{gap:.625rem;justify-content:space-between}.settings-footer{display:flex;gap:.5rem;align-items:center;margin-top:.5rem}.sliders input[type=range],.spacer{flex:1}.hint{color:var(--muted);font-size:.75rem;margin:-.25rem 0 .375rem}.overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(2px);z-index:3;opacity:0;transition:opacity var(--trans)}.overlay:not([hidden]){opacity:1}.modal{position:fixed;top:10%;left:50%;transform:translateX(-50%) scale(.95);width:min(720px,92vw);z-index:4;padding:0;opacity:0;transition:opacity var(--trans),transform var(--trans)}.modal:not([hidden]){opacity:1;transform:translateX(-50%) scale(1)}.modal-footer,.modal-header{padding:.625rem .75rem;border-bottom:1px solid rgba(255,255,255,.08)}.modal-footer{border-top:1px solid rgba(255,255,255,.08);border-bottom:0;display:flex;gap:.5rem;justify-content:flex-end}.modal-body{padding:.625rem .75rem}.mini-stream{min-height:220px;max-height:420px;overflow:auto;background:var(--bg-alt);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius-sm);padding:.5rem;font-family:var(--mono)}.toasts{position:fixed;bottom:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:5}.toast{background:var(--panel);border:1px solid rgba(255,255,255,.08);color:var(--text);padding:.5rem .625rem;border-radius:var(--radius-sm);box-shadow:var(--shadow)}.toast.bad{border-color:var(--danger);color:#fcc}.toast.good{border-color:var(--good);color:#cffff1}@media (max-width:980px){.main-grid{grid-template-columns:1fr}.compose{position:static}}@media (max-width:600px){.app-header{flex-wrap:wrap;gap:.5rem}.header-actions{flex-wrap:wrap;justify-content:center}}
